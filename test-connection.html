<!DOCTYPE html>
<html>
<head>
    <title>Connection Test</title>
</head>
<body>
    <h1>Connection Test</h1>
    <button onclick="testFetch()">Test with Fetch</button>
    <button onclick="testXhr()">Test with XHR</button>
    <div id="result"></div>

    <script>
        function updateResult(message, isError = false) {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `<p style="color: ${isError ? 'red' : 'green'};">${message}</p>`;
        }

        async function testFetch() {
            try {
                const response = await fetch('http://localhost:5000/');
                const data = await response.text();
                updateResult(`Fetch Success: ${data}`);
            } catch (error) {
                updateResult(`Fetch Error: ${error.message}`, true);
                console.error('Fetch Error:', error);
            }
        }

        function testXhr() {
            const xhr = new XMLHttpRequest();
            xhr.open('GET', 'http://localhost:5000/');
            
            xhr.onload = function() {
                if (xhr.status === 200) {
                    updateResult(`XHR Success: ${xhr.responseText}`);
                } else {
                    updateResult(`XHR Error: ${xhr.status} ${xhr.statusText}`, true);
                }
            };
            
            xhr.onerror = function() {
                updateResult(`XHR Network Error`, true);
                console.error('XHR Error:', xhr);
            };
            
            xhr.send();
        }
    </script>
</body>
</html>